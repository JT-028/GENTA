/* External SVG mascot loader styles */
/* Larger, centered mascot to match reference layout
	 Uses CSS variables so sizing can be controlled centrally.
	 --mascot-size: preferred maximum size (px)
	 --mascot-small-size: minimum/compact size (px)
*/
:root {
	--mascot-size: 220px;
	--mascot-small-size: 140px;
}
/* Hide server-rendered flash messages visually; mascot.js will show toasts instead. */
/* This prevents the old DOM-based alert from flashing briefly before JS replaces it. */
.alert.alert-danger, .alert.alert-success, .flash-error, .flash-success, .message.error, .message.success, .alert-danger, .alert-success {
	display: none !important;
}
#genta-mascot { display:flex; justify-content:center; align-items:center; margin: 18px 0 12px; }
#genta-mascot-container {
	/* preferred width, but allow percentage-based max in tighter layouts */
	width: var(--mascot-size);
	max-width: 48%;
	min-width: var(--mascot-small-size);
	margin: 0 auto;
	display:flex;
	align-items:center;
	justify-content:center;
}
#genta-mascot svg { width:100%; height:auto; display:block; }

.btn-loading {
	position: relative;
	pointer-events: none; /* disabled visually as well */
}
.btn-loading[aria-busy="true"] {
	opacity: 0.9;
}
.btn-loading::after {
	content: '';
	position: absolute;
	right: 12px;
	top: 50%;
	transform: translateY(-50%);
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid rgba(255,255,255,0.85);
	border-top-color: transparent;
	box-sizing: border-box;
	animation: genta-spinner 800ms linear infinite;
}
@keyframes genta-spinner {
	from { transform: translateY(-50%) rotate(0deg); }
	to { transform: translateY(-50%) rotate(360deg); }
}
/* Perfect circular frame behind the head. Uses aspect-ratio for responsiveness
	 so the element stays a true circle regardless of size. Padding is inside
	 the circle and the SVG is centered. */
.frame-circle {
	display:flex;
	align-items:center;
	justify-content:center;
	/* preferred size, clamped by max-width on the container and min-width below */
	width: var(--mascot-size);
	max-width: 40%;
	min-width: var(--mascot-small-size);
	aspect-ratio: 1 / 1;        /* ensure square -> circle when border-radius applied */
	border-radius:50%;
	box-sizing: border-box;
	padding:16px;               /* inner spacing around the SVG */
	background: radial-gradient(circle at 35% 30%, #e6fbff 0%, #c9f3f6 30%, rgba(200,243,246,0.0) 70%);
	box-shadow: 0 6px 18px rgba(12,52,64,0.06);
}

/* When the container is used inline (e.g. directly inside a header), keep a sensible max size */
.frame-circle.small { width: var(--mascot-small-size); min-width: var(--mascot-small-size); padding:12px; }
/* Pupils and hands will be animated via CSS transforms once SVG is injected */
#genta-mascot .pupil { transition: transform 140ms linear; transform-origin: center; }
#genta-mascot #left_arm, #genta-mascot #right_arm { transition: transform 260ms cubic-bezier(.2,.9,.2,1); transform-origin: center center; }
/* fallback class-based cover (kept for safety) */
.genta-mascot.cover-hands #left_arm { transform: translate(36px,-56px) rotate(-18deg); }
.genta-mascot.cover-hands #right_arm { transform: translate(-36px,-56px) rotate(18deg); }

/* Brief wrong-password shake animation */
.mascot-wrong { animation: mascot-shake 700ms ease-in-out; }
@keyframes mascot-shake {
	0% { transform: translateX(0); }
	20% { transform: translateX(-6px); }
	40% { transform: translateX(6px); }
	60% { transform: translateX(-4px); }
	80% { transform: translateX(4px); }
	100% { transform: translateX(0); }
}

/* Small UI helper classes used by login/register templates */
.auth-card { max-width:920px; margin:18px auto; background:#fff; border-radius:10px; box-shadow:0 6px 24px rgba(16,40,60,0.06); overflow:hidden; }
.auth-row { display:flex; align-items:stretch; }
.auth-left { flex:0 0 40%; display:flex; align-items:center; justify-content:center; padding:28px; background:linear-gradient(180deg,#fbffff 0%, #f3fcff 100%); }
.auth-right { flex:1 1 60%; padding:28px 32px; }
.auth-form { max-width:420px; margin:0 auto; }
.auth-title { margin-bottom:6px; font-size:1.25rem; }
.auth-subtitle { margin-bottom:14px; color:#6b7280; }
.btn-block { display:block; width:100%; }
.form-group + .form-group { margin-top:12px; }
.auth-footer { margin-top:18px; text-align:center; padding:18px; background:transparent; }

@media (max-width:768px){
	.auth-row { flex-direction:column; }
	.auth-left { flex-basis:auto; padding:18px; }
	/* Reduce mascot size on tablet/smaller screens */
	.frame-circle { --mascot-size: 160px; --mascot-small-size: 120px; }
	.auth-right { padding:18px; }
}

@media (max-width:480px){ #genta-mascot { margin-top:12px } .frame-circle{max-width:160px;width:160px} }

/* Pending overlay CSS removed â€” mascot now uses SVG #pending_eyes vector group for pending animation. */

/* Styling + animation for inline SVG pending dots (.pending-dot inside #pending_eyes).
   Uses the site's --brand-primary color when available and a gentle bounce animation. */
/* Broad selector so styling applies whether the SVG is nested under #genta-mascot or #genta-mascot-container */
.pending-dot, #genta-mascot svg #pending_eyes .pending-dot, #genta-mascot-container svg #pending_eyes .pending-dot {
	/* Use the requested color by default; allow theming via --mascot-pending-color */
	fill: var(--mascot-pending-color, #95d7e1);
	opacity: 0.9;
	transform-origin: center;
	animation: mascot-pending-bounce 900ms infinite ease-in-out;
}
.pending-dot:nth-child(1), #genta-mascot svg #pending_eyes .pending-dot:nth-child(1), #genta-mascot-container svg #pending_eyes .pending-dot:nth-child(1) { animation-delay: 0ms; }
.pending-dot:nth-child(2), #genta-mascot svg #pending_eyes .pending-dot:nth-child(2), #genta-mascot-container svg #pending_eyes .pending-dot:nth-child(2) { animation-delay: 120ms; }
.pending-dot:nth-child(3), #genta-mascot svg #pending_eyes .pending-dot:nth-child(3), #genta-mascot-container svg #pending_eyes .pending-dot:nth-child(3) { animation-delay: 240ms; }
@keyframes mascot-pending-bounce {
	0% { opacity: 0.9; transform: translateY(0) scale(1); }
	50% { opacity: 1; transform: translateY(-6px) scale(1.08); }
	100% { opacity: 0.9; transform: translateY(0) scale(1); }
}

/* Password match indicator styles */
.password-match-indicator {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 6px 8px;
	border-radius: 8px;
	font-weight: 600;
	font-size: 0.92rem;
}
.password-match-indicator .mdi {
	font-size: 1.05rem;
	line-height: 1;
}
.password-match-indicator.neutral { color: #6b7280; background: rgba(99,102,241,0.04); }
.password-match-indicator.success { color: #065f46; background: rgba(16,185,129,0.08); }
.password-match-indicator.danger { color: #7f1d1d; background: rgba(254,226,226,0.08); }

/* Add a subtle outline to confirm input when invalid (bootstrap compatible) */
.form-control.is-invalid {
	border-color: #f87171;
	box-shadow: 0 0 0 0.125rem rgba(248,113,113,0.08);
}
.form-control.is-valid {
	border-color: #34d399;
	box-shadow: 0 0 0 0.125rem rgba(52,211,153,0.06);
}
